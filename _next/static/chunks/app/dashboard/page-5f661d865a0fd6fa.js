(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{21378:function(e,s,t){Promise.resolve().then(t.bind(t,57527))},57527:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return S}});var a=t(57437),r=t(2265),n=t(60429),i=t(42449),l=t(88997),o=t(86595),c=t(70525),d=t(44794),m=t(98728),x=t(88226),b=t(47692),h=t(76858),u=t(37875),p=t(81586),g=t(12381),j=t(69174),v=t(49472),N=t(95805),y=t(82023),f=t(16275),w=t(42208),k=t(82431),C=t(70793),E=t(51475),Z=t(66960),P=t(27648);function z(e){let{title:s,type:t="trending",productId:i,limit:l=8,showHeader:d=!0,className:m=""}=e,[x,b]=(0,r.useState)(t),{recommendations:u,loading:p,error:v,getUserRecommendations:z,getProductRecommendations:S,getTrendingRecommendations:R,getSimilarProducts:A,refreshRecommendations:M}=function(){let[e,s]=(0,r.useState)([]),[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[l,o]=(0,r.useState)("general"),{user:c}=(0,E.aC)(),d=(0,r.useCallback)(async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{a(!0),i(null);let n=new URLSearchParams({type:e,limit:r.toString()});c&&n.set("userId",c.id),t&&n.set("productId",t);let l=await fetch("/api/recommendations?".concat(n));if(!l.ok)throw Error("Erro ao buscar recomenda\xe7\xf5es");let d=await l.json();s(d.recommendations),o(d.type)}catch(e){i(e instanceof Error?e.message:"Erro ao buscar recomenda\xe7\xf5es"),s([])}finally{a(!1)}},[c]),m=(0,r.useCallback)(async()=>{await d("user-based")},[d]),x=(0,r.useCallback)(async e=>{await d("product-based",e)},[d]),b=(0,r.useCallback)(async()=>{await d("trending")},[d]),h=(0,r.useCallback)(async e=>{await d("similar",e)},[d]),u=(0,r.useCallback)(async()=>{await d(l)},[d,l]);return(0,r.useEffect)(()=>{c?m():b()},[c,m,b]),{recommendations:e,loading:t,error:n,getUserRecommendations:m,getProductRecommendations:x,getTrendingRecommendations:b,getSimilarProducts:h,refreshRecommendations:u}}(),{addItem:_}=(0,E.jD)(),T=[{id:"trending",label:"Em Alta",icon:c.Z},{id:"user",label:"Para Voc\xea",icon:N.Z},{id:"similar",label:"Similares",icon:y.Z}],V=async e=>{switch(b(e),e){case"user":await z();break;case"trending":await R();break;case"similar":i&&await A(i)}},$=e=>{_({product_id:e.id,name:e.name,price:e.price,image:e.images[0],brand:e.brand})},D=e=>{let{product:s}=e;return(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 border border-cyber-500/30 rounded-xl overflow-hidden hover:border-neon-blue/50 transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"aspect-square overflow-hidden",children:(0,a.jsx)("img",{src:s.images[0],alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"absolute top-3 left-3",children:[s.isNew&&(0,a.jsx)(j.C,{className:"bg-neon-green/20 text-neon-green border-neon-green/30",children:"Novo"}),s.discount>0&&(0,a.jsxs)(j.C,{className:"bg-neon-pink/20 text-neon-pink border-neon-pink/30 ml-2",children:["-",s.discount,"%"]})]}),(0,a.jsx)("div",{className:"absolute top-3 right-3",children:(0,a.jsx)(C.s,{product:s,size:"sm"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-cyber-400 text-sm",children:s.brand}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-neon-yellow fill-current"}),(0,a.jsx)("span",{className:"text-cyber-300 text-sm",children:s.rating}),(0,a.jsxs)("span",{className:"text-cyber-500 text-sm",children:["(",s.reviewCount,")"]})]})]}),(0,a.jsx)("h3",{className:"text-white font-semibold mb-2 line-clamp-2 group-hover:text-neon-blue transition-colors",children:s.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"text-neon-green font-bold text-lg",children:(0,Z.T4)(s.price)}),s.originalPrice&&(0,a.jsx)("span",{className:"text-cyber-500 line-through text-sm",children:(0,Z.T4)(s.originalPrice)})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(g.z,{onClick:()=>$(s),className:"flex-1 cyber-button bg-gradient-to-r from-neon-blue to-neon-purple text-white",size:"sm",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Adicionar"]}),(0,a.jsx)(g.z,{asChild:!0,variant:"outline",size:"sm",className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:(0,a.jsx)(P.default,{href:"/produto/".concat(s.slug),children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})})})]})]})]})};return v?(0,a.jsxs)("div",{className:"text-center py-8 ".concat(m),children:[(0,a.jsx)("p",{className:"text-red-400 mb-4",children:v}),(0,a.jsxs)(g.z,{onClick:M,variant:"outline",className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]}):(0,a.jsxs)("div",{className:m,children:[d&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:s||"Recomendados para Voc\xea"}),(0,a.jsx)("p",{className:"text-cyber-400",children:"Produtos selecionados especialmente para voc\xea"})]}),(0,a.jsxs)(g.z,{onClick:M,variant:"outline",size:"sm",className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Atualizar"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 mb-6",children:T.map(e=>(0,a.jsxs)("button",{onClick:()=>V(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all ".concat(x===e.id?"bg-neon-blue/20 text-neon-blue border border-neon-blue/30":"text-cyber-400 hover:text-neon-blue hover:bg-cyber-800/50"),children:[(0,a.jsx)(e.icon,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.id))}),p?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:l}).map((e,s)=>(0,a.jsxs)("div",{className:"bg-dark-800/50 border border-cyber-500/30 rounded-xl p-4 animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-square bg-cyber-700 rounded-lg mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-cyber-700 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-cyber-700 rounded w-3/4 mb-4"}),(0,a.jsx)("div",{className:"h-8 bg-cyber-700 rounded"})]},s))}):0===u.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(y.Z,{className:"w-16 h-16 text-cyber-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma recomenda\xe7\xe3o encontrada"}),(0,a.jsx)("p",{className:"text-cyber-400 mb-6",children:"Tente atualizar ou explore outros produtos"}),(0,a.jsxs)(g.z,{onClick:M,className:"cyber-button bg-gradient-to-r from-neon-blue to-neon-purple text-white",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Atualizar Recomenda\xe7\xf5es"]})]}):(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.slice(0,l).map(e=>(0,a.jsx)(D,{product:e},e.id))}),u.length>l&&(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsx)(g.z,{asChild:!0,variant:"outline",className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:(0,a.jsxs)(P.default,{href:"/produtos",children:["Ver Mais Produtos",(0,a.jsx)(h.Z,{className:"w-4 h-4 ml-2"})]})})})]})}function S(){var e,s;let{user:t,signOut:r}=(0,E.aC)(),N=async()=>{await r()},y=[{title:"Pedidos",value:"12",change:"+2 este m\xeas",icon:i.Z,color:"text-neon-blue"},{title:"Favoritos",value:"8",change:"+3 esta semana",icon:l.Z,color:"text-neon-pink"},{title:"Avalia\xe7\xf5es",value:"4.8",change:"M\xe9dia geral",icon:o.Z,color:"text-neon-yellow"},{title:"Gastos",value:"R$ 2.450",change:"Este m\xeas",icon:c.Z,color:"text-neon-green"}],f=[{title:"Meus Pedidos",description:"Acompanhe seus pedidos",icon:d.Z,href:"/pedidos",color:"from-neon-blue to-neon-purple"},{title:"Favoritos",description:"Produtos salvos",icon:l.Z,href:"/favoritos",color:"from-neon-pink to-neon-purple"},{title:"Configura\xe7\xf5es",description:"Perfil e prefer\xeancias",icon:m.Z,href:"/configuracoes",color:"from-neon-green to-neon-blue"},{title:"Pagamentos",description:"M\xe9todos de pagamento",icon:x.Z,href:"/pagamentos",color:"from-neon-yellow to-neon-orange"}];return(0,a.jsx)(v.i,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-dark-900",children:[(0,a.jsx)(u.h,{}),(0,a.jsx)("section",{className:"pt-24 pb-8 bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:["Ol\xe1, ",(null==t?void 0:null===(e=t.user_metadata)||void 0===e?void 0:e.name)||(null==t?void 0:null===(s=t.email)||void 0===s?void 0:s.split("@")[0]),"! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-cyber-300",children:"Bem-vindo ao seu painel de controle"})]}),(0,a.jsxs)(g.z,{onClick:N,variant:"outline",className:"border-cyber-500 text-cyber-400 hover:border-red-400 hover:text-red-400",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Sair"]})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 pb-16",children:[(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:y.map((e,s)=>(0,a.jsxs)("div",{className:"bg-dark-800/50 border border-cyber-500/30 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-".concat(e.color.split("-")[1],"-500/20 to-").concat(e.color.split("-")[1],"-600/20 rounded-lg flex items-center justify-center"),children:(0,a.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.color)})}),(0,a.jsx)(j.C,{className:"bg-cyber-800/50 text-cyber-300 border-cyber-500/30",children:e.change})]}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:e.value}),(0,a.jsx)("p",{className:"text-cyber-400 text-sm",children:e.title})]},s))}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"lg:col-span-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"A\xe7\xf5es R\xe1pidas"}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:f.map((e,s)=>(0,a.jsx)(n.E.a,{href:e.href,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3+.1*s},className:"group bg-dark-800/50 border border-cyber-500/30 rounded-xl p-6 hover:border-neon-blue/50 transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(e.color," rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300"),children:(0,a.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-white font-semibold text-lg mb-2 group-hover:text-neon-blue transition-colors",children:e.title}),(0,a.jsx)("p",{className:"text-cyber-300 text-sm mb-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-neon-blue text-sm font-medium",children:[(0,a.jsx)("span",{children:"Acessar"}),(0,a.jsx)(h.Z,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]})},s))})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Pedidos Recentes"}),(0,a.jsxs)("div",{className:"bg-dark-800/50 border border-cyber-500/30 rounded-xl p-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:[{id:"#12345",product:"MacBook Pro M3 Max",date:"2024-01-15",status:"Entregue",total:"R$ 15.999"},{id:"#12346",product:"iPhone 15 Pro Max",date:"2024-01-10",status:"Em tr\xe2nsito",total:"R$ 8.999"},{id:"#12347",product:"Samsung Galaxy S24",date:"2024-01-05",status:"Processando",total:"R$ 6.999"}].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-cyber-500/20 last:border-b-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.product}),(0,a.jsxs)("p",{className:"text-cyber-400 text-sm",children:["#",e.id," â€¢ ",e.date]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-white font-semibold",children:e.total}),(0,a.jsx)(j.C,{className:"text-xs ".concat("Entregue"===e.status?"bg-neon-green/20 text-neon-green border-neon-green/30":"Em tr\xe2nsito"===e.status?"bg-neon-blue/20 text-neon-blue border-neon-blue/30":"bg-neon-yellow/20 text-neon-yellow border-neon-yellow/30"),children:e.status})]})]},s))}),(0,a.jsx)(g.z,{variant:"outline",className:"w-full mt-4 border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:"Ver Todos os Pedidos"})]})]})]})]}),(0,a.jsx)("section",{className:"py-16",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsx)(z,{title:"Recomendados para Voc\xea",type:"user",limit:8})})}),(0,a.jsx)(p.$,{})]})})}}},function(e){e.O(0,[216,592,744],function(){return e(e.s=21378)}),_N_E=e.O()}]);