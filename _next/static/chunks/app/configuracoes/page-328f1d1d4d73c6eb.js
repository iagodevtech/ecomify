(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{72348:function(e,a,s){Promise.resolve().then(s.bind(s,69967))},69967:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return Z}});var t=s(57437),r=s(2265),c=s(60429),n=s(88906),i=s(98728),l=s(89345),o=s(32660),d=s(65302),x=s(18930),m=s(22252),u=s(54001),b=s(78867),h=s(66337),p=s(87769),g=s(42208),j=s(83229),f=s(92735),y=s(32489),N=s(37875),v=s(81586),w=s(12381),k=s(5526),C=s(51475);function S(){let[e,a]=(0,r.useState)({isEnabled:!1,secret:null,backupCodes:[],qrCode:null}),[s,t]=(0,r.useState)(!1),[c,n]=(0,r.useState)(null),{user:i}=(0,C.aC)();(0,r.useEffect)(()=>{i&&l()},[i]);let l=async()=>{if(i)try{t(!0);let{data:e,error:s}=await k.OQ.from("user_security").select("*").eq("user_id",i.id).single();if(s&&"PGRST116"!==s.code)throw s;e&&a({isEnabled:e.two_factor_enabled||!1,secret:e.two_factor_secret||null,backupCodes:e.backup_codes||[],qrCode:e.qr_code||null})}catch(e){n("Erro ao carregar configura\xe7\xf5es de seguran\xe7a")}finally{t(!1)}},o=async s=>{if(i)try{t(!0),n(null);let r=await fetch("/api/2fa/enable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i.id,token:s,secret:e.secret})});if(!r.ok)throw Error("C\xf3digo 2FA inv\xe1lido");let c=await r.json(),{error:l}=await k.OQ.from("user_security").upsert({user_id:i.id,two_factor_enabled:!0,two_factor_secret:e.secret,backup_codes:c.backupCodes,qr_code:e.qrCode,updated_at:new Date().toISOString()});if(l)throw l;return a(e=>({...e,isEnabled:!0,backupCodes:c.backupCodes})),c}catch(e){throw n("Erro ao ativar 2FA"),e}finally{t(!1)}},d=async s=>{if(i)try{if(t(!0),n(null),!(await fetch("/api/2fa/disable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i.id,token:s,secret:e.secret})})).ok)throw Error("C\xf3digo 2FA inv\xe1lido");let{error:r}=await k.OQ.from("user_security").update({two_factor_enabled:!1,two_factor_secret:null,backup_codes:[],qr_code:null,updated_at:new Date().toISOString()}).eq("user_id",i.id);if(r)throw r;return a({isEnabled:!1,secret:null,backupCodes:[],qrCode:null}),!0}catch(e){throw n("Erro ao desativar 2FA"),e}finally{t(!1)}},x=async a=>{if(!i||!e.secret)return!1;try{return(await fetch("/api/2fa/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:e.secret,token:a})})).ok}catch(e){return!1}};return{twoFactorAuth:e,loading:s,error:c,generate2FASecret:async()=>{if(i)try{t(!0),n(null);let e=await fetch("/api/2fa/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i.id,email:i.email})});if(!e.ok)throw Error("Erro ao gerar c\xf3digo 2FA");let s=await e.json();return a(e=>({...e,secret:s.secret,qrCode:s.qrCode})),s}catch(e){throw n("Erro ao gerar c\xf3digo 2FA"),e}finally{t(!1)}},enable2FA:o,disable2FA:d,verify2FA:x,generateBackupCodes:async()=>{if(i)try{t(!0),n(null);let e=await fetch("/api/2fa/backup-codes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i.id})});if(!e.ok)throw Error("Erro ao gerar c\xf3digos de backup");let s=await e.json(),{error:r}=await k.OQ.from("user_security").update({backup_codes:s.backupCodes,updated_at:new Date().toISOString()}).eq("user_id",i.id);if(r)throw r;return a(e=>({...e,backupCodes:s.backupCodes})),s.backupCodes}catch(e){throw n("Erro ao gerar c\xf3digos de backup"),e}finally{t(!1)}},load2FAStatus:l}}var A=s(30401);function _(e){let{onComplete:a}=e,[s,i]=(0,r.useState)("setup"),[l,o]=(0,r.useState)(""),[d,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),{twoFactorAuth:j,loading:y,error:N,generate2FASecret:v,enable2FA:k,generateBackupCodes:C}=S(),_=async()=>{try{await v()}catch(e){}},E=async()=>{if(l)try{await k(l),i("backup")}catch(e){}},Z=async()=>{let e=j.backupCodes.join("\n");await navigator.clipboard.writeText(e),h(!0),setTimeout(()=>h(!1),2e3)};return(0,t.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-800/50 border border-cyber-500/30 rounded-xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-neon-blue to-neon-purple rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(n.Z,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Configurar Autentica\xe7\xe3o de Dois Fatores"}),(0,t.jsx)("p",{className:"text-cyber-400",children:"Adicione uma camada extra de seguran\xe7a \xe0 sua conta"})]}),N&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg flex items-center gap-3",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5 text-red-400"}),(0,t.jsx)("span",{className:"text-red-400",children:N})]}),"setup"===s&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Passo 1: Configurar App Autenticador"}),(0,t.jsx)("p",{className:"text-cyber-400 mb-6",children:"Instale um app autenticador como Google Authenticator, Authy ou Microsoft Authenticator"})]}),j.secret?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block p-4 bg-white rounded-lg",children:(0,t.jsx)("img",{src:j.qrCode,alt:"QR Code para 2FA",className:"w-48 h-48"})}),(0,t.jsx)("p",{className:"text-cyber-400 text-sm mt-4",children:"Escaneie este QR code com seu app autenticador"})]}),(0,t.jsxs)("div",{className:"bg-dark-700/50 border border-cyber-500/30 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-medium mb-2",children:"Ou digite manualmente:"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"flex-1 bg-dark-800 px-3 py-2 rounded text-cyber-300 font-mono text-sm",children:j.secret}),(0,t.jsx)(w.z,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(j.secret),className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:(0,t.jsx)(b.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(w.z,{onClick:()=>i("verify"),className:"cyber-button bg-gradient-to-r from-neon-green to-neon-blue text-white",children:"Continuar"})})]}):(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(w.z,{onClick:_,disabled:y,className:"cyber-button bg-gradient-to-r from-neon-blue to-neon-purple text-white",children:y?"Gerando...":"Gerar C\xf3digo QR"})})]}),"verify"===s&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Passo 2: Verificar C\xf3digo"}),(0,t.jsx)("p",{className:"text-cyber-400 mb-6",children:"Digite o c\xf3digo de 6 d\xedgitos do seu app autenticador"})]}),(0,t.jsx)("div",{className:"max-w-xs mx-auto",children:(0,t.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full px-4 py-3 bg-dark-700 border border-cyber-500/30 rounded-lg text-white text-center text-2xl font-mono tracking-widest focus:border-neon-blue focus:outline-none",maxLength:6})}),(0,t.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,t.jsx)(w.z,{variant:"outline",onClick:()=>i("setup"),className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:"Voltar"}),(0,t.jsx)(w.z,{onClick:E,disabled:y||6!==l.length,className:"cyber-button bg-gradient-to-r from-neon-green to-neon-blue text-white",children:y?"Verificando...":"Ativar 2FA"})]})]}),"backup"===s&&(0,t.jsxs)(c.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-neon-green to-neon-blue rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(A.Z,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"2FA Ativado com Sucesso!"}),(0,t.jsx)("p",{className:"text-cyber-400 mb-6",children:"Salve estes c\xf3digos de backup em local seguro. Eles podem ser usados para acessar sua conta caso perca o acesso ao app autenticador."})]}),(0,t.jsxs)("div",{className:"bg-dark-700/50 border border-cyber-500/30 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-white font-medium",children:"C\xf3digos de Backup"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(w.z,{variant:"outline",size:"sm",onClick:()=>x(!d),className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:d?(0,t.jsx)(p.Z,{className:"w-4 h-4"}):(0,t.jsx)(g.Z,{className:"w-4 h-4"})}),(0,t.jsx)(w.z,{variant:"outline",size:"sm",onClick:Z,className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:u?(0,t.jsx)(A.Z,{className:"w-4 h-4"}):(0,t.jsx)(b.Z,{className:"w-4 h-4"})}),(0,t.jsx)(w.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([j.backupCodes.join("\n")],{type:"text/plain"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="ecomify-backup-codes.txt",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},className:"border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:(0,t.jsx)(f.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:j.backupCodes.map((e,a)=>(0,t.jsx)("div",{className:"bg-dark-800 px-3 py-2 rounded text-cyber-300 font-mono text-sm text-center",children:d?e:"••••••"},a))})]}),(0,t.jsx)("div",{className:"bg-amber-900/20 border border-amber-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5 text-amber-400 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-amber-400 font-medium mb-1",children:"Importante"}),(0,t.jsx)("p",{className:"text-amber-300 text-sm",children:"Cada c\xf3digo de backup s\xf3 pode ser usado uma vez. Mantenha-os em local seguro e n\xe3o compartilhe com ningu\xe9m."})]})]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(w.z,{onClick:a,className:"cyber-button bg-gradient-to-r from-neon-green to-neon-blue text-white",children:"Concluir Configura\xe7\xe3o"})})]})]})})}var E=s(49472);function Z(){let[e,a]=(0,r.useState)("security"),[s,k]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[Z,z]=(0,r.useState)(!1),[O,F]=(0,r.useState)(""),[q,D]=(0,r.useState)(""),[T,R]=(0,r.useState)(""),[P,I]=(0,r.useState)(""),[Q,L]=(0,r.useState)(""),[G,U]=(0,r.useState)(!1),{twoFA:B,isLoading:J,error:V,generateSecret:M,enable2FA:$,disable2FA:H}=S(),K=[{id:"security",name:"Seguran\xe7a",icon:n.Z},{id:"profile",name:"Perfil",icon:i.Z},{id:"notifications",name:"Notifica\xe7\xf5es",icon:l.Z}],W=async()=>{U(!0),await M(),U(!1)},X=async()=>{if(6!==P.length){alert("Token deve ter 6 d\xedgitos");return}await $(P)&&A(!0)},Y=async()=>{if(!Q){alert("Digite sua senha para desativar o 2FA");return}await H(Q)&&(L(""),alert("2FA desativado com sucesso"))},ee=e=>{navigator.clipboard.writeText(e),alert("Copiado para a \xe1rea de transfer\xeancia!")};return(0,t.jsx)(E.i,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-dark-900",children:[(0,t.jsx)(N.h,{}),(0,t.jsx)("section",{className:"pt-24 pb-8 bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center gap-4 mb-6",children:[(0,t.jsxs)(w.z,{variant:"ghost",onClick:()=>window.history.back(),className:"text-cyber-400 hover:text-neon-blue",children:[(0,t.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),"Voltar"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-neon-blue to-neon-purple rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Configura\xe7\xf5es"})]})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 pb-16",children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-dark-800/50 border border-cyber-500/30 rounded-xl p-6 sticky top-24",children:[(0,t.jsx)("h2",{className:"text-white font-bold text-lg mb-4",children:"Menu"}),(0,t.jsx)("nav",{className:"space-y-2",children:K.map(s=>(0,t.jsxs)("button",{onClick:()=>a(s.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all ".concat(e===s.id?"bg-neon-blue/10 text-neon-blue border border-neon-blue/30":"text-cyber-400 hover:text-neon-blue hover:bg-dark-700/50"),children:[(0,t.jsx)(s.icon,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:s.name})]},s.id))})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-dark-800/50 border border-cyber-500/30 rounded-xl p-6",children:["security"===e&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-white font-bold text-2xl mb-2",children:"Seguran\xe7a da Conta"}),(0,t.jsx)("p",{className:"text-cyber-300",children:"Gerencie as configura\xe7\xf5es de seguran\xe7a da sua conta"})]}),(0,t.jsxs)("div",{className:"border border-cyber-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-neon-green to-neon-blue rounded-lg flex items-center justify-center",children:(0,t.jsx)(n.Z,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:"Autentica\xe7\xe3o de Dois Fatores"}),(0,t.jsx)("p",{className:"text-cyber-300 text-sm",children:"Adicione uma camada extra de seguran\xe7a"})]})]}),(null==B?void 0:B.isEnabled)?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"w-5 h-5 text-neon-green"}),(0,t.jsx)("span",{className:"text-neon-green font-medium",children:"2FA Ativado"})]}),(0,t.jsxs)("div",{className:"bg-dark-700/50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-medium mb-2",children:"Desativar 2FA"}),(0,t.jsx)("p",{className:"text-cyber-300 text-sm mb-4",children:"Digite sua senha para desativar a autentica\xe7\xe3o de dois fatores"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"password",placeholder:"Sua senha atual",value:Q,onChange:e=>L(e.target.value),className:"flex-1 px-3 py-2 bg-dark-800 border border-cyber-500/30 rounded-lg text-white placeholder-cyber-500 focus:border-neon-blue focus:outline-none"}),(0,t.jsxs)(w.z,{onClick:Y,disabled:J,className:"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Desativar"]})]})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5 text-neon-yellow"}),(0,t.jsx)("span",{className:"text-neon-yellow font-medium",children:"2FA Desativado"})]}),(null==B?void 0:B.secret)?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-dark-700/50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-medium mb-2",children:"Configurar Aplicativo Autenticador"}),(0,t.jsxs)("p",{className:"text-cyber-300 text-sm mb-4",children:["1. Instale um aplicativo autenticador (Google Authenticator, Authy, etc.)",(0,t.jsx)("br",{}),"2. Escaneie o QR Code ou digite a chave secreta",(0,t.jsx)("br",{}),"3. Digite o c\xf3digo de 6 d\xedgitos gerado pelo app"]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h5",{className:"text-white font-medium mb-2",children:"QR Code"}),(null==B?void 0:B.qrCode)&&(0,t.jsx)("div",{className:"bg-white p-2 rounded-lg inline-block",children:(0,t.jsx)("img",{src:B.qrCode,alt:"QR Code",className:"w-32 h-32"})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h5",{className:"text-white font-medium mb-2",children:"Chave Secreta"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("code",{className:"flex-1 px-3 py-2 bg-dark-800 border border-cyber-500/30 rounded-lg text-cyber-300 text-sm font-mono",children:null==B?void 0:B.secret}),(0,t.jsx)(w.z,{variant:"ghost",size:"sm",onClick:()=>(null==B?void 0:B.secret)&&ee(B.secret),className:"text-cyber-400 hover:text-neon-blue",children:(0,t.jsx)(b.Z,{className:"w-4 h-4"})})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",placeholder:"C\xf3digo de 6 d\xedgitos",value:P,onChange:e=>I(e.target.value.replace(/\D/g,"").slice(0,6)),className:"flex-1 px-3 py-2 bg-dark-800 border border-cyber-500/30 rounded-lg text-white placeholder-cyber-500 focus:border-neon-blue focus:outline-none text-center text-lg tracking-widest"}),(0,t.jsxs)(w.z,{onClick:X,disabled:J||6!==P.length,className:"cyber-button bg-gradient-to-r from-neon-green to-neon-blue text-white",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Ativar"]})]})]}):(0,t.jsxs)(w.z,{onClick:W,disabled:G,className:"cyber-button bg-gradient-to-r from-neon-blue to-neon-purple text-white",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),G?"Gerando...":"Ativar 2FA"]})]}),V&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-red-400 text-sm",children:V})})]}),(0,t.jsxs)("div",{className:"border border-cyber-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-neon-purple to-neon-pink rounded-lg flex items-center justify-center",children:(0,t.jsx)(h.Z,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:"Alterar Senha"}),(0,t.jsx)("p",{className:"text-cyber-300 text-sm",children:"Atualize sua senha para manter a conta segura"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-cyber-300 text-sm mb-2 block",children:"Senha Atual"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:s?"text":"password",placeholder:"Digite sua senha atual",value:O,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 pr-10 bg-dark-800 border border-cyber-500/30 rounded-lg text-white placeholder-cyber-500 focus:border-neon-blue focus:outline-none"}),(0,t.jsx)("button",{type:"button",onClick:()=>k(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-cyber-400 hover:text-neon-blue",children:s?(0,t.jsx)(p.Z,{className:"w-4 h-4"}):(0,t.jsx)(g.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-cyber-300 text-sm mb-2 block",children:"Nova Senha"}),(0,t.jsx)("input",{type:"password",placeholder:"Digite sua nova senha",value:q,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 bg-dark-800 border border-cyber-500/30 rounded-lg text-white placeholder-cyber-500 focus:border-neon-blue focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-cyber-300 text-sm mb-2 block",children:"Confirmar Nova Senha"}),(0,t.jsx)("input",{type:"password",placeholder:"Confirme sua nova senha",value:T,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 bg-dark-800 border border-cyber-500/30 rounded-lg text-white placeholder-cyber-500 focus:border-neon-blue focus:outline-none"})]}),(0,t.jsxs)(w.z,{className:"cyber-button bg-gradient-to-r from-neon-blue to-neon-purple text-white",disabled:!O||!q||q!==T,children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Alterar Senha"]})]})]})]}),"profile"===e&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-white font-bold text-2xl mb-2",children:"Perfil"}),(0,t.jsx)("p",{className:"text-cyber-300",children:"Gerencie suas informa\xe7\xf5es pessoais"})]})}),"notifications"===e&&(0,t.jsx)("div",{className:"space-y-8",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-white font-bold text-2xl mb-2",children:"Notifica\xe7\xf5es"}),(0,t.jsx)("p",{className:"text-cyber-300",children:"Configure como voc\xea quer receber notifica\xe7\xf5es"})]})})]})})]})}),C&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(c.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-dark-800 border border-cyber-500/30 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-neon-green to-neon-blue rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(d.Z,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h3",{className:"text-white font-bold text-xl mb-2",children:"2FA Ativado com Sucesso!"}),(0,t.jsx)("p",{className:"text-cyber-300 text-sm",children:"Salve estes c\xf3digos de backup em um local seguro. Eles podem ser usados para acessar sua conta caso voc\xea perca seu dispositivo."})]}),(0,t.jsx)("div",{className:"bg-dark-700/50 rounded-lg p-4 mb-6",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm font-mono",children:B.backupCodes.map((e,a)=>(0,t.jsx)("div",{className:"text-cyber-300 text-center py-1",children:e},a))})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(w.z,{onClick:()=>{var e;let a=new Blob([(null!==(e=null==B?void 0:B.backupCodes)&&void 0!==e?e:[]).join("\n")],{type:"text/plain"}),s=URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download="ecomify-backup-codes.txt",t.click(),URL.revokeObjectURL(s)},className:"flex-1 cyber-button bg-gradient-to-r from-neon-blue to-neon-purple text-white",children:[(0,t.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Baixar"]}),(0,t.jsx)(w.z,{onClick:()=>A(!1),variant:"outline",className:"flex-1 border-cyber-500 text-cyber-400 hover:border-neon-blue hover:text-neon-blue",children:"Fechar"})]})]})}),Z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-dark-900 border border-cyber-500/30 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-cyber-500/30 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Configurar 2FA"}),(0,t.jsx)(w.z,{variant:"ghost",size:"sm",onClick:()=>z(!1),className:"text-cyber-400 hover:text-white",children:(0,t.jsx)(y.Z,{className:"w-5 h-5"})})]}),(0,t.jsx)(_,{onComplete:()=>z(!1)})]})}),(0,t.jsx)(v.$,{})]})})}}},function(e){e.O(0,[216,592,744],function(){return e(e.s=72348)}),_N_E=e.O()}]);